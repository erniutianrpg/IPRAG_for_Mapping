 teammates logic core feedbacksessionslogictest baselogictest   
  
  
  
  
  
  
 
     override preparetestdata     
          
      
 
     beforemethod beforemethod     
        databundle   loaddatabundle   feedbacksessionslogictest json    
        removeandrestoredatabundle databundle   
      
 
     test testdeletefeedbacksessioncascade_deletesessionnotinrecyclebin_shoulddocascadedeletion     
        feedbacksessionattributes fsa   databundle feedbacksessions get  session1incourse1    
        assertnotnull fslogic getfeedbacksession fsa getfeedbacksessionname    fsa getcourseid      
        assertnull fslogic getfeedbacksessionfromrecyclebin fsa getfeedbacksessionname    fsa getcourseid      
        assertfalse  
                fqlogic getfeedbackquestionsforsession fsa getfeedbacksessionname    fsa getcourseid    isempty     
        assertfalse  
                frlogic getfeedbackresponsesforsession fsa getfeedbacksessionname    fsa getcourseid    isempty     
        assertfalse  
                frclogic getfeedbackresponsecommentforsessioninsection fsa getcourseid    fsa getfeedbacksessionname isempty     
 
          
        fslogic deletefeedbacksessioncascade fsa getfeedbacksessionname    fsa getcourseid     
 
        assertnull fslogic getfeedbacksession fsa getfeedbacksessionname    fsa getcourseid      
        assertnull fslogic getfeedbacksessionfromrecyclebin fsa getfeedbacksessionname    fsa getcourseid      
        asserttrue  
                fqlogic getfeedbackquestionsforsession fsa getfeedbacksessionname    fsa getcourseid    isempty     
        asserttrue  
                frlogic getfeedbackresponsesforsession fsa getfeedbacksessionname    fsa getcourseid    isempty     
        asserttrue  
                frclogic getfeedbackresponsecommentforsessioninsection fsa getcourseid    fsa getfeedbacksessionname isempty     
      
 
     test testdeletefeedbacksessioncascade_deletesessioninrecyclebin_shoulddocascadedeletion exception   
        feedbacksessionattributes fsa   databundle feedbacksessions get  session1incourse1    
        assertfalse  
                fqlogic getfeedbackquestionsforsession fsa getfeedbacksessionname    fsa getcourseid    isempty     
        assertfalse  
                frlogic getfeedbackresponsesforsession fsa getfeedbacksessionname    fsa getcourseid    isempty     
        assertfalse  
                frclogic getfeedbackresponsecommentforsessioninsection fsa getcourseid    fsa getfeedbacksessionname isempty     
        fslogic movefeedbacksessiontorecyclebin fsa getfeedbacksessionname    fsa getcourseid     
        assertnull fslogic getfeedbacksession fsa getfeedbacksessionname    fsa getcourseid      
        assertnotnull fslogic getfeedbacksessionfromrecyclebin fsa getfeedbacksessionname    fsa getcourseid      
 
          
        fslogic deletefeedbacksessioncascade fsa getfeedbacksessionname    fsa getcourseid     
 
        assertnull fslogic getfeedbacksession fsa getfeedbacksessionname    fsa getcourseid      
        assertnull fslogic getfeedbacksessionfromrecyclebin fsa getfeedbacksessionname    fsa getcourseid      
        asserttrue  
                fqlogic getfeedbackquestionsforsession fsa getfeedbacksessionname    fsa getcourseid    isempty     
        asserttrue  
                frlogic getfeedbackresponsesforsession fsa getfeedbacksessionname    fsa getcourseid    isempty     
        asserttrue  
                frclogic getfeedbackresponsecommentforsessioninsection fsa getcourseid    fsa getfeedbacksessionname isempty     
      
 
     test testdeletefeedbacksessions_bycourseid_shoulddeleteallsessionsundercourse     
        feedbacksessionattributes session1incourse1   databundle feedbacksessions get  session1incourse1    
        assertnotnull  
                fslogic getfeedbacksession session1incourse1 getfeedbacksessionname    session1incourse1 getcourseid      
        feedbacksessionattributes session2incourse1   databundle feedbacksessions get  session2incourse1    
        assertnotnull  
                fslogic getfeedbacksession session2incourse1 getfeedbacksessionname    session2incourse1 getcourseid      
          
        assertequals session1incourse1 getcourseid    session2incourse1 getcourseid     
        feedbacksessionattributes session1incourse2   databundle feedbacksessions get  session1incourse2    
        assertnotnull  
                fslogic getfeedbacksession session1incourse2 getfeedbacksessionname    session1incourse2 getcourseid      
 
          
        fslogic deletefeedbacksessions  
                attributesdeletionquery builder   
                         withcourseid session1incourse1 getcourseid    
                         build     
 
          
        assertnull  
                fslogic getfeedbacksession session1incourse1 getfeedbacksessionname    session1incourse1 getcourseid      
        assertnull  
                fslogic getfeedbacksession session2incourse1 getfeedbacksessionname    session2incourse1 getcourseid      
          
        assertnotnull  
                fslogic getfeedbacksession session1incourse2 getfeedbacksessionname    session1incourse2 getcourseid      
      
 
     test testfeedbacksessionnotification exception   
        testgetfeedbacksessionsclosingwithintimelimit    
        testgetfeedbacksessionsclosedwithinthepasthour    
        testgetfeedbacksessionswhichneedopenmailstobesent    
        testgetfeedbacksessionwhichneedpublishedemailstobesent    
        testgetfeedbacksessionsopeningwithintimelimit    
      
 
     test testall exception   
 
        testgetsoftdeletedfeedbacksessionslistforinstructors    
        testisfeedbacksessionviewabletousertype    
 
        testcreateanddeletefeedbacksession    
 
        testisfeedbacksessionforusertypetoanswer    
 
        testupdatefeedbacksession    
        testpublishunpublishfeedbacksession    
 
        testisfeedbacksessionattemptedbystudent    
        testisfeedbacksessionattemptedbyinstructor    
 
        testmovefeedbacksessiontorecyclebin    
        testrestorefeedbacksessionfromrecyclebin testgetsoftdeletedfeedbacksessionslistforinstructors     
        list feedbacksessionattributes  softdeletedfsa arraylist      
        collection feedbacksessionattributes  allfsa   databundle feedbacksessions values courseid   databundle courses get  typicalcourse3   getid    
        instructorattributes instructor   databundle instructors get  instructor1ofcourse3    
 
        list instructorattributes  instructors arraylist      
        instructors add instructor feedbacksessionattributes fsa   allfsa fsa getcourseid   equals courseid     fsa issessiondeleted      
                softdeletedfsa add fsa   
              
          
        asserthelper assertsamecontentignoreorder  
                softdeletedfsa  fslogic getsoftdeletedfeedbacksessionslistforinstructors instructors testgetfeedbacksessionsclosingwithintimelimit exception   
 
        ______ts  init   0 standard sessions closing within time-limit    
        list feedbacksessionattributes  sessionlist   fslogic getfeedbacksessionsclosingwithintimelimit    
 
        assertequals 0  sessionlist size     
 
        ______ts 1 open session in undeleted course closing within time-limit    
        feedbacksessionattributes session   getnewfeedbacksession    
        session settimezone  utc    
        session setsessionvisiblefromtime timehelper getinstantdaysoffsetfromnow -1    
        session setstarttime timehelper getinstantdaysoffsetfromnow -1    
        session setendtime timehelper getinstantdaysoffsetfromnow 1    
        fslogic createfeedbacksession session   
        courseslogic createcourse  
                courseattributes builder session getcourseid    
                         withname  test course   
                         withtimezone  utc   
                         withinstitute  test institute   
                         build     
 
          
        threadhelper waitfor 5   
 
        sessionlist   fslogic getfeedbacksessionsclosingwithintimelimit    
 
        assertequals 1  sessionlist size     
        assertequals session getfeedbacksessionname    sessionlist get 0  getfeedbacksessionname     
 
        ______ts 1 open session in deleted course closing within time-limit    
        courseslogic movecoursetorecyclebin session getcourseid     
        sessionlist   fslogic getfeedbacksessionsclosingwithintimelimit    
 
        assertequals 0  sessionlist size     
 
          
          
        courseslogic restorecoursefromrecyclebin session getcourseid     
        fslogic deletefeedbacksessioncascade session getfeedbacksessionname    session getcourseid testgetfeedbacksessionsclosedwithinthepasthour exception   
 
        ______ts  init   0 standard sessions closed within the past hour    
        list feedbacksessionattributes  sessionlist   fslogic getfeedbacksessionsclosedwithinthepasthour    
 
        assertequals 0  sessionlist size     
 
        ______ts 1 closed session in undeleted course within the past hour    
        feedbacksessionattributes session   getnewfeedbacksession    
        session settimezone  utc    
        session setsessionvisiblefromtime timehelper getinstantdaysoffsetfromnow -1    
        session setstarttime timehelper getinstantdaysoffsetfromnow -1    
        session setendtime timehelperextension getinstantminutesoffsetfromnow -59    
        fslogic createfeedbacksession session   
 
        sessionlist   fslogic getfeedbacksessionsclosedwithinthepasthour    
 
        assertequals 1  sessionlist size     
        assertequals session getfeedbacksessionname    sessionlist get 0  getfeedbacksessionname     
 
        ______ts 1 closed session in deleted course within the past hour    
        courseslogic movecoursetorecyclebin session getcourseid     
        sessionlist   fslogic getfeedbacksessionsclosedwithinthepasthour    
 
        assertequals 0  sessionlist size     
 
          
          
        courseslogic restorecoursefromrecyclebin session getcourseid     
        fslogic deletefeedbacksessioncascade session getfeedbacksessionname    session getcourseid testgetfeedbacksessionsopeningwithintimelimit exception   
        ______ts  init   0 standard sessions opening within time-limit    
        list feedbacksessionattributes  sessionlist   fslogic getfeedbacksessionsopeningwithintimelimit    
 
        assertequals 0  sessionlist size     
 
        ______ts 1 closed session in undeleted course opening within time-limit    
        feedbacksessionattributes session   getnewfeedbacksession    
        session settimezone  utc    
        session setsessionvisiblefromtime timehelper getinstantdaysoffsetfromnow 1    
        session setstarttime timehelper getinstantdaysoffsetfromnow 1    
        session setendtime timehelper getinstantdaysoffsetfromnow 5    
        session setresultsvisiblefromtime timehelper getinstantdaysoffsetfromnow 5    
        fslogic createfeedbacksession session   
 
          
        threadhelper waitfor 5   
 
        sessionlist   fslogic getfeedbacksessionsopeningwithintimelimit    
 
        assertequals 1  sessionlist size     
        assertequals session getfeedbacksessionname    sessionlist get 0  getfeedbacksessionname     
 
        ______ts 1 closed session in deleted course opening within time-limit    
        session setstarttime timehelper getinstantdaysoffsetfromnow 1    
        courseslogic movecoursetorecyclebin session getcourseid     
 
          
        threadhelper waitfor 5   
 
        sessionlist   fslogic getfeedbacksessionsopeningwithintimelimit    
 
        assertequals 0  sessionlist size     
 
          
          
        courseslogic restorecoursefromrecyclebin session getcourseid     
        fslogic deletefeedbacksessioncascade session getfeedbacksessionname    session getcourseid testgetfeedbacksessionswhichneedopenmailstobesent exception   
 
        ______ts  init   0 open sessions    
        list feedbacksessionattributes  sessionlist   fslogic getfeedbacksessionswhichneedopenemailstobesent    
 
        assertequals 0  sessionlist size     
 
        ______ts 1 open session in undeleted course with mail unsent    
        feedbacksessionattributes session   getnewfeedbacksession    
        session settimezone  utc    
        session setsessionvisiblefromtime timehelper getinstantdaysoffsetfromnow -2    
        session setstarttime timehelperextension getinstanthoursoffsetfromnow -23    
        session setendtime timehelper getinstantdaysoffsetfromnow 1    
        session setsentopenemail fslogic createfeedbacksession session   
 
        sessionlist   fslogic getfeedbacksessionswhichneedopenemailstobesent    
 
        assertequals 1  sessionlist size     
        assertequals sessionlist get 0  getfeedbacksessionname    session getfeedbacksessionname     
 
        ______ts 1 open session in undeleted course with mail sent    
        session setsentopenemail fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder session getfeedbacksessionname    session getcourseid    
                         withsentopenemail session issentopenemail    
                         build     
 
        sessionlist   fslogic getfeedbacksessionswhichneedopenemailstobesent    
 
        assertequals 0  sessionlist size     
 
        ______ts 1 closed session in undeleted course with mail unsent    
        session setsentopenemail session setendtime timehelperextension getinstanthoursoffsetfromnow -1    
        fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder session getfeedbacksessionname    session getcourseid    
                         withsentopenemail session issentopenemail    
                         withendtime session getendtime    
                         build     
 
        sessionlist   fslogic getfeedbacksessionswhichneedopenemailstobesent    
 
        assertequals 0  sessionlist size     
 
        ______ts 1 open session in deleted course with mail unsent    
        courseslogic movecoursetorecyclebin session getcourseid     
        session setendtime timehelperextension getinstanthoursoffsetfromnow 1    
        fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder session getfeedbacksessionname    session getcourseid    
                         withendtime session getendtime    
                         build     
 
        sessionlist   fslogic getfeedbacksessionswhichneedopenemailstobesent    
 
        assertequals 0  sessionlist size     
 
        ______ts 1 open session in deleted course with mail sent    
        session setsentopenemail fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder session getfeedbacksessionname    session getcourseid    
                         withsentopenemail session issentopenemail    
                         build     
 
        sessionlist   fslogic getfeedbacksessionswhichneedopenemailstobesent    
 
        assertequals 0  sessionlist size     
 
        ______ts 1 closed session in deleted course with mail unsent    
        session setsentopenemail session setendtime timehelperextension getinstanthoursoffsetfromnow -1    
        fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder session getfeedbacksessionname    session getcourseid    
                         withsentopenemail session issentopenemail    
                         withendtime session getendtime    
                         build     
 
        sessionlist   fslogic getfeedbacksessionswhichneedopenemailstobesent    
 
        assertequals 0  sessionlist size     
 
          
          
        courseslogic restorecoursefromrecyclebin session getcourseid     
        fslogic deletefeedbacksessioncascade session getfeedbacksessionname    session getcourseid testgetfeedbacksessionwhichneedpublishedemailstobesent exception   
 
        ______ts  init   no published sessions    
        unpublishallsessions    
        list feedbacksessionattributes  sessionlist   fslogic 
                 getfeedbacksessionswhichneedautomatedpublishedemailstobesent    
 
        assertequals 0  sessionlist size     
 
        ______ts 1 published session in undeleted course with mail unsent    
        feedbacksessionattributes session   databundle feedbacksessions get  session1incourse1    
        session settimezone  utc    
        session setstarttime timehelper getinstantdaysoffsetfromnow -2    
        session setendtime timehelper getinstantdaysoffsetfromnow -1    
        session setresultsvisiblefromtime timehelper getinstantdaysoffsetfromnow -1    
        session setsentpublishedemail fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder session getfeedbacksessionname    session getcourseid    
                         withtimezone session gettimezone    
                         withstarttime session getstarttime    
                         withendtime session getendtime    
                         withresultsvisiblefromtime session getresultsvisiblefromtime    
                         withsentpublishedemail session issentpublishedemail    
                         build     
 
        sessionlist   fslogic getfeedbacksessionswhichneedautomatedpublishedemailstobesent    
 
        assertequals 1  sessionlist size     
        assertequals sessionlist get 0  getfeedbacksessionname    session getfeedbacksessionname     
 
        ______ts 1 published session in undeleted course with mail sent    
        session setsentpublishedemail fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder session getfeedbacksessionname    session getcourseid    
                         withsentpublishedemail session issentpublishedemail    
                         build     
 
        sessionlist   fslogic getfeedbacksessionswhichneedautomatedpublishedemailstobesent    
 
        assertequals 0  sessionlist size     
 
        ______ts 1 published session in deleted course with mail unsent    
        courseslogic movecoursetorecyclebin session getcourseid     
        session setsentpublishedemail fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder session getfeedbacksessionname    session getcourseid    
                         withsentpublishedemail session issentpublishedemail    
                         build     
 
        sessionlist   fslogic getfeedbacksessionswhichneedautomatedpublishedemailstobesent    
 
        assertequals 0  sessionlist size     
 
        ______ts 1 published session in deleted course with mail sent    
        session setsentpublishedemail fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder session getfeedbacksessionname    session getcourseid    
                         withsentpublishedemail session issentpublishedemail    
                         build     
 
        sessionlist   fslogic getfeedbacksessionswhichneedautomatedpublishedemailstobesent    
 
        assertequals 0  sessionlist size testcreateanddeletefeedbacksession exception   
        ______ts  test create    
 
        feedbacksessionattributes fs   getnewfeedbacksession    
        fslogic createfeedbacksession fs   
        verifypresentindatabase fs   
 
        feedbacksessionattributes finalfs   fs  
        ______ts  test create with invalid session name    
        fs setfeedbacksessionname  test   test    
        exception e   assertthrows exception fslogic createfeedbacksession finalfs    
        assertequals  
                 the provided feedback session name is not acceptable to teammates   
                           as it cannot contain the following special html characters in brackets    
                                \    '      
                e getmessage     
 
        fs setfeedbacksessionname  test %  test    
        e   assertthrows exception fslogic createfeedbacksession finalfs    
        assertequals  
                 \ test %  test\  is not acceptable to teammates as a an feedback session name   
                           because it contains invalid characters  a an feedback session name   
                           must start with an alphanumeric character  and cannot contain   
                           any vertical bar     or percent sign  %     
                e getmessage     
 
        ______ts  test delete    
        fs   getnewfeedbacksession    
          
        feedbackquestionattributes fq   feedbackquestionattributes builder   
                 withfeedbacksessionname fs getfeedbacksessionname    
                 withcourseid fs getcourseid    
                 withquestionnumber 1  
                 withnumberofentitiestogivefeedbackto max_possible_recipients  
                 withgivertype feedbackparticipanttype students  
                 withrecipienttype feedbackparticipanttype teams  
                 withquestiondetails feedbacktextquestiondetails  question to be deleted through cascade    
                 withshowresponsesto arraylist      
                 withshowrecipientnameto arraylist      
                 withshowgivernameto arraylist      
                 build    
 
        fqlogic createfeedbackquestion fq   
 
        fslogic deletefeedbacksessioncascade fs getfeedbacksessionname    fs getcourseid     
        verifyabsentindatabase fs   
        verifyabsentindatabase fq testisfeedbacksessionviewabletousertype     
        ______ts  session with questions students instructors to answer    
        feedbacksessionattributes session   databundle feedbacksessions get  session1incourse1    
        asserttrue fslogic isfeedbacksessionviewabletousertype session asserttrue fslogic isfeedbacksessionviewabletousertype session ______ts  session without questions students  but with visible responses    
        session   databundle feedbacksessions get  archivecourse session1    
        asserttrue fslogic isfeedbacksessionviewabletousertype session session   databundle feedbacksessions get  session1incourse2    
        asserttrue fslogic isfeedbacksessionviewabletousertype session ______ts  session without questions instructors  but with visible responses    
        session   databundle feedbacksessions get  session2incourse1    
        asserttrue fslogic isfeedbacksessionviewabletousertype session ______ts  empty session    
        session   databundle feedbacksessions get  empty session    
        assertfalse fslogic isfeedbacksessionviewabletousertype session assertfalse fslogic isfeedbacksessionviewabletousertype session testisfeedbacksessionforusertypetoanswer     
        ______ts  non-visible session should not be any types of user to answer    
        feedbacksessionattributes session   databundle feedbacksessions get  awaiting session    
        assertfalse fslogic isfeedbacksessionforusertypetoanswer session assertfalse fslogic isfeedbacksessionforusertypetoanswer session ______ts  empty session should not be any types of user to answer    
        session   databundle feedbacksessions get  empty session    
        assertfalse fslogic isfeedbacksessionforusertypetoanswer session assertfalse fslogic isfeedbacksessionforusertypetoanswer session ______ts  session without student question should not be students to answer    
        session   databundle feedbacksessions get  archivecourse session1    
        assertfalse fslogic isfeedbacksessionforusertypetoanswer session asserttrue fslogic isfeedbacksessionforusertypetoanswer session ______ts  session without instructor question should not be instructors to answer    
        session   databundle feedbacksessions get  session2incourse1    
        assertfalse fslogic isfeedbacksessionforusertypetoanswer session asserttrue fslogic isfeedbacksessionforusertypetoanswer session testupdatefeedbacksession exception   
 
        ______ts  failure  non-existent session name    
        feedbacksessionattributes updateoptions updateoptions   
                feedbacksessionattributes updateoptionsbuilder  asdf_randomname1423    idoftypicalcourse1   
                         withinstructions  test   
                         build    
        entitydoesnotexistexception ednee   assertthrows entitydoesnotexistexception fslogic updatefeedbacksession updateoptions    
        assertequals  
                 trying to update a non-existent feedback session    
                          updateoptions getcourseid           updateoptions getfeedbacksessionname    
                ednee getmessage     
 
        ______ts  success 1  typical feedbacksessionattributes fsa   databundle feedbacksessions get  session1incourse1    
        fsa setinstructions  test    
 
        feedbacksessionattributes updatedfeedbacksession   fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder fsa getfeedbacksessionname    fsa getcourseid    
                         withinstructions fsa getinstructions    
                         build     
 
        assertequals fsa tostring    fslogic getfeedbacksession fsa getfeedbacksessionname    fsa getcourseid    tostring     
        assertequals fsa tostring    updatedfeedbacksession tostring     
      
 
     test testupdatefeedbacksession_shouldadjustemailsendingstatusaccordingly exception   
        feedbacksessionattributes typicalsession   databundle feedbacksessions get  session1incourse1    
 
        ______ts  open email sent  whether the updated session is open determines the   
                   open opening soon email sending status    
 
        fsdb updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withsentopenemail build     
 
        fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withstarttime timehelper getinstantdaysoffsetfromnow -2   
                         withendtime timehelper getinstantdaysoffsetfromnow -1   
                         build     
          
        assertfalse fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentopenemail     
        assertfalse fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentopeningsoonemail     
 
        fsdb updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withsentopenemail build     
 
        fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withstarttime timehelperextension getinstanthoursoffsetfromnow 20   
                         withendtime timehelper getinstantdaysoffsetfromnow 2   
                         build     
          
        assertfalse fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentopenemail     
          
        asserttrue fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentopeningsoonemail     
 
        fsdb updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withsentopenemail build     
 
        fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withstarttime timehelper getinstantdaysoffsetfromnow -1   
                         withendtime timehelper getinstantdaysoffsetfromnow 1   
                         build     
          
        asserttrue fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentopenemail     
          
        asserttrue fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentopeningsoonemail     
 
        ______ts  closed email sent  whether the updated session is closed determines the   
                   closed closing email sending status    
 
        fsdb updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withsentclosedemail build     
 
        fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withstarttime timehelper getinstantdaysoffsetfromnow -2   
                         withendtime timehelper getinstantdaysoffsetfromnow -1   
                         build     
          
        asserttrue fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentclosedemail     
        asserttrue fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentclosingemail     
 
        fsdb updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withsentclosedemail build     
 
        fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withstarttime timehelper getinstantdaysoffsetfromnow -1   
                         withendtime timehelper getinstantdaysoffsetfromnow 2   
                         build     
          
        assertfalse fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentclosedemail     
        assertfalse fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentclosingemail     
 
        fsdb updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withsentclosedemail build     
 
        fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withstarttime timehelperextension getinstantminutesoffsetfromnow -10   
                         withendtime timehelperextension getinstantminutesoffsetfromnow 10   
                         build     
          
        assertfalse fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentclosedemail     
          
        asserttrue fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentclosingemail     
 
        ______ts  published email sent  whether the updated session is published determines the   
                   publish email sending status    
 
        fsdb updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withsentpublishedemail build     
 
        fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withresultsvisiblefromtime time_represents_now  
                         build     
          
        asserttrue fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentpublishedemail     
 
        fsdb updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withsentpublishedemail build     
 
        fslogic updatefeedbacksession  
                feedbacksessionattributes updateoptionsbuilder  
                        typicalsession getfeedbacksessionname    typicalsession getcourseid    
                         withresultsvisiblefromtime time_represents_later  
                         build     
          
        assertfalse fslogic getfeedbacksession  
                typicalsession getfeedbacksessionname    typicalsession getcourseid    issentpublishedemail     
      
 
     test testupdatefeedbacksessionsinstructordeadlineswithnewemail     
        instructorattributes instructortobeupdated   databundle instructors get  instructor1ofcourse1 courseid   instructortobeupdated getcourseid oldemailaddress   instructortobeupdated getemail newemailaddress email tmt   
 
        ______ts  update email  transfers deadlines to email     
 
        map instant  integer  olddeadlinecounts   fslogic getfeedbacksessionsforcourse courseid  
                 stream   
                 map feedbacksessionattributes  getinstructordeadlines  
                 filter instructordeadlines -  instructordeadlines containskey oldemailaddress   
                 map instructordeadlines -  instructordeadlines get oldemailaddress   
                 collect collectors groupingby function identity    collectors summingint deadline -  1     
        assertequals 2  olddeadlinecounts values   
                 stream   
                 reduce 0  integer  sum  
                 intvalue     
 
        fslogic updatefeedbacksessionsinstructordeadlineswithnewemail courseid  oldemailaddress  newemailaddress   
 
        asserttrue fslogic getfeedbacksessionsforcourse courseid  
                 stream   
                 nonematch feedbacksessionattributes -  feedbacksessionattributes getinstructordeadlines   
                         containskey oldemailaddress     
        map instant  integer  newdeadlinecounts   fslogic getfeedbacksessionsforcourse courseid  
                 stream   
                 map feedbacksessionattributes  getinstructordeadlines  
                 filter instructordeadlines -  instructordeadlines containskey newemailaddress   
                 map instructordeadlines -  instructordeadlines get newemailaddress   
                 collect collectors groupingby function identity    collectors summingint deadline -  1     
        assertequals olddeadlinecounts  newdeadlinecounts   
      
 
     test testupdatefeedbacksessionsstudentdeadlineswithnewemail     
        studentattributes student4incourse1   databundle students get  student4incourse1 courseid   student4incourse1 getcourse oldemailaddress   student4incourse1 getemail newemailaddress email tmt   
 
        ______ts  update email  transfers deadlines to email     
 
        map instant  integer  olddeadlinecounts   fslogic getfeedbacksessionsforcourse courseid  
                 stream   
                 map feedbacksessionattributes  getstudentdeadlines  
                 filter studentdeadlines -  studentdeadlines containskey oldemailaddress   
                 map studentdeadlines -  studentdeadlines get oldemailaddress   
                 collect collectors groupingby function identity    collectors summingint deadline -  1     
        assertequals 2  olddeadlinecounts values   
                 stream   
                 reduce 0  integer  sum  
                 intvalue     
 
        fslogic updatefeedbacksessionsstudentdeadlineswithnewemail courseid  oldemailaddress  newemailaddress   
 
        asserttrue fslogic getfeedbacksessionsforcourse courseid  
                 stream   
                 nonematch feedbacksessionattributes -  feedbacksessionattributes getstudentdeadlines   
                         containskey oldemailaddress     
        map instant  integer  newdeadlinecounts   fslogic getfeedbacksessionsforcourse courseid  
                 stream   
                 map feedbacksessionattributes  getstudentdeadlines  
                 filter studentdeadlines -  studentdeadlines containskey newemailaddress   
                 map studentdeadlines -  studentdeadlines get newemailaddress   
                 collect collectors groupingby function identity    collectors summingint deadline -  1     
        assertequals olddeadlinecounts  newdeadlinecounts   
      
 
     test testdeletefeedbacksessionsdeadlinesforinstructor     
        instructorattributes instructor1ofcourse1   databundle instructors get  instructor1ofcourse1    
        verifypresentindatabase instructor1ofcourse1 courseid   instructor1ofcourse1 getcourseid emailaddress   instructor1ofcourse1 getemail    
 
        ______ts  delete user  deadlines associated with the email are removed     
 
          
        set feedbacksessionattributes  oldsessionswithinstructor1deadlines   fslogic 
                 getfeedbacksessionsforcourse courseid  
                 stream   
                 filter feedbacksessionattributes -  feedbacksessionattributes getinstructordeadlines   
                         containskey emailaddress   
                 collect collectors toset     
        map feedbacksessionattributes  integer  oldsessionsdeadlinecounts   oldsessionswithinstructor1deadlines 
                 stream   
                 collect collectors tomap fsa -  fsa  fsa -  fsa getinstructordeadlines   size      
        assertequals 2  oldsessionswithinstructor1deadlines size     
 
        fslogic deletefeedbacksessionsdeadlinesforinstructor courseid  emailaddress   
 
          
        set feedbacksessionattributes  newsessionswithinstructor1deadlines   fslogic 
                 getfeedbacksessionsforcourse courseid  
                 stream   
                 filter feedbacksessionattributes -  feedbacksessionattributes getinstructordeadlines   
                         containskey emailaddress   
                 collect collectors toset     
        asserttrue newsessionswithinstructor1deadlines isempty     
        map feedbacksessionattributes  integer  expectedsessionsdeadlinecounts   oldsessionsdeadlinecounts entryset   
                 stream   
                 collect collectors tomap map entry  getkey  entry -  entry getvalue   - 1    
        map feedbacksessionattributes  integer  newsessionsdeadlinecounts   fslogic 
                 getfeedbacksessionsforcourse courseid  
                 stream   
                 filter oldsessionswithinstructor1deadlines  contains  
                 collect collectors tomap fsa -  fsa  fsa -  fsa getinstructordeadlines   size      
        assertequals expectedsessionsdeadlinecounts  newsessionsdeadlinecounts   
      
 
     test testdeletefeedbacksessionsdeadlinesforstudent     
        studentattributes student4incourse1   databundle students get  student4incourse1    
        verifypresentindatabase student4incourse1 courseid   student4incourse1 getcourse emailaddress   student4incourse1 getemail    
 
        ______ts  delete user  deadlines associated with the email are removed     
 
          
        set feedbacksessionattributes  oldsessionswithstudent4deadlines   fslogic 
                 getfeedbacksessionsforcourse courseid  
                 stream   
                 filter feedbacksessionattributes -  feedbacksessionattributes getstudentdeadlines   
                         containskey emailaddress   
                 collect collectors toset     
        map feedbacksessionattributes  integer  oldsessionsdeadlinecounts   oldsessionswithstudent4deadlines 
                 stream   
                 collect collectors tomap fsa -  fsa  fsa -  fsa getstudentdeadlines   size      
        assertequals 2  oldsessionswithstudent4deadlines size     
 
        fslogic deletefeedbacksessionsdeadlinesforstudent courseid  emailaddress   
 
          
        set feedbacksessionattributes  newsessionswithstudent4deadlines   fslogic 
                 getfeedbacksessionsforcourse courseid  
                 stream   
                 filter feedbacksessionattributes -  feedbacksessionattributes getstudentdeadlines   
                         containskey emailaddress   
                 collect collectors toset     
        asserttrue newsessionswithstudent4deadlines isempty     
        map feedbacksessionattributes  integer  expectedsessionsdeadlinecounts   oldsessionsdeadlinecounts entryset   
                 stream   
                 collect collectors tomap map entry  getkey  entry -  entry getvalue   - 1    
        map feedbacksessionattributes  integer  newsessionsdeadlinecounts   fslogic 
                 getfeedbacksessionsforcourse courseid  
                 stream   
                 filter oldsessionswithstudent4deadlines  contains  
                 collect collectors tomap fsa -  fsa  fsa -  fsa getstudentdeadlines   size      
        assertequals expectedsessionsdeadlinecounts  newsessionsdeadlinecounts testpublishunpublishfeedbacksession exception   
 
        ______ts  success  publish    
        feedbacksessionattributes sessionundertest   databundle feedbacksessions get  session1incourse1    
 
          
 
        sessionundertest setresultsvisiblefromtime time_represents_later   
        fslogic updatefeedbacksession  
                feedbacksessionattributes 
                         updateoptionsbuilder sessionundertest getfeedbacksessionname    sessionundertest getcourseid    
                         withresultsvisiblefromtime sessionundertest getresultsvisiblefromtime    
                         build     
 
        fslogic publishfeedbacksession sessionundertest getfeedbacksessionname    sessionundertest getcourseid     
 
          
        feedbacksessionattributes sessionpublished   
                fslogic getfeedbacksession sessionundertest getfeedbacksessionname    sessionundertest getcourseid     
        sessionundertest setresultsvisiblefromtime sessionpublished getresultsvisiblefromtime     
 
        assertequals sessionundertest tostring    sessionpublished tostring     
 
        ______ts  failure  already published    
 
        invalidparametersexception ipe   assertthrows invalidparametersexception fslogic publishfeedbacksession  
                        sessionundertest getfeedbacksessionname    sessionundertest getcourseid      
        assertequals  error publishing feedback session  session has already been published    ipe getmessage     
 
        ______ts  success  unpublish    
 
        fslogic unpublishfeedbacksession sessionundertest getfeedbacksessionname    sessionundertest getcourseid     
 
        sessionundertest setresultsvisiblefromtime time_represents_later   
 
        assertequals  
                sessionundertest tostring    
                fslogic getfeedbacksession  
                        sessionundertest getfeedbacksessionname    sessionundertest getcourseid    tostring     
 
        ______ts  failure  not published    
 
        ipe   assertthrows invalidparametersexception fslogic unpublishfeedbacksession  
                        sessionundertest getfeedbacksessionname    sessionundertest getcourseid      
        assertequals  error unpublishing feedback session  session has already been unpublished    ipe getmessage     
 
        ______ts  failure  publish unpublish non-existent session    
 
        assertnull fslogic getfeedbacksession  randomname    randomid     
        entitydoesnotexistexception ednee   assertthrows entitydoesnotexistexception fslogic publishfeedbacksession  randomname    randomid     
        assertequals  trying to update a non-existent feedback session  randomid randomname   ednee getmessage     
 
        ednee   assertthrows entitydoesnotexistexception fslogic unpublishfeedbacksession  randomname    randomid     
        assertequals  trying to update a non-existent feedback session  randomid randomname   ednee getmessage testisfeedbacksessionattemptedbyinstructor     
 
        ______ts  success  empty session    
 
        feedbacksessionattributes fs   databundle feedbacksessions get  empty session    
        instructorattributes instructor   databundle instructors get  instructor2ofcourse1    
 
        asserttrue fslogic isfeedbacksessionattemptedbyinstructor fs  instructor getemail testisfeedbacksessionattemptedbystudent     
 
        ______ts  success  empty session    
 
        feedbacksessionattributes fs   databundle feedbacksessions get  empty session    
        studentattributes student   databundle students get  student2incourse1    
 
        asserttrue fslogic isfeedbacksessionattemptedbystudent fs  student getemail    student getteam      
 
        ______ts  success  grace period session  all team questions     
 
        fs   databundle feedbacksessions get  graceperiodsession    
          
        student   databundle students get  student4incourse1    
        asserttrue fslogic isfeedbacksessionattemptedbystudent fs  student getemail    student getteam      
 
          
        student   databundle students get  student1incourse1    
        asserttrue fslogic isfeedbacksessionattemptedbystudent fs  student getemail    student getteam      
 
          
        student   databundle students get  student5incourse1    
        assertfalse fslogic isfeedbacksessionattemptedbystudent fs  student getemail    student getteam      
 
        ______ts  success  second feedback session  both team and individual questions     
 
        fs   databundle feedbacksessions get  session2incourse1    
          
        student   databundle students get  student5incourse1    
        assertfalse fslogic isfeedbacksessionattemptedbystudent fs  student getemail    student getteam      
 
          
        student   databundle students get  student2incourse1    
        assertfalse fslogic isfeedbacksessionattemptedbystudent fs  student getemail    student getteam      
 
          
        student   databundle students get  student6incourse1    
        asserttrue fslogic isfeedbacksessionattemptedbystudent fs  student getemail    student getteam      
 
          
        student   databundle students get  student4incourse1    
        asserttrue fslogic isfeedbacksessionattemptedbystudent fs  student getemail    student getteam feedbacksessionattributes getnewfeedbacksession feedbacksessionattributes builder  fstest1    testcourse   
                 withcreatoremail  valid email tmt   
                 withsessionvisiblefromtime timehelperextension getinstanttruncateddaysoffsetfromnow 2   
                 withstarttime timehelperextension getinstanttruncateddaysoffsetfromnow 2   
                 withendtime timehelperextension getinstanttruncateddaysoffsetfromnow 7   
                 withresultsvisiblefromtime timehelperextension getinstanttruncateddaysoffsetfromnow 7   
                 withgraceperiod duration ofminutes 5   
                 withinstructions  give feedback    
                 build unpublishallsessions exception feedbacksessionattributes fs   databundle feedbacksessions values fs ispublished      
                fslogic unpublishfeedbacksession fs getfeedbacksessionname    fs getcourseid testmovefeedbacksessiontorecyclebin exception   
        feedbacksessionattributes feedbacksession   databundle feedbacksessions get  session2incourse3 feedbacksessionname   databundle feedbacksessions get  session2incourse3   getfeedbacksessionname courseid   databundle courses get  typicalcourse3   getid    
 
        assertfalse feedbacksession issessiondeleted     
 
        instant deletedtime   fslogic movefeedbacksessiontorecyclebin feedbacksessionname  courseid   
        feedbacksession setdeletedtime deletedtime   
 
        feedbacksessionattributes actualfs   fslogic getfeedbacksessionfromrecyclebin feedbacksessionname  courseid   
        assertequals jsonutils tojson feedbacksession   jsonutils tojson actualfs    
        asserttrue feedbacksession issessiondeleted testrestorefeedbacksessionfromrecyclebin exception   
        feedbacksessionattributes feedbacksession   databundle feedbacksessions get  session2incourse3 feedbacksessionname   databundle feedbacksessions get  session2incourse3   getfeedbacksessionname courseid   databundle courses get  typicalcourse3   getid    
 
        asserttrue feedbacksession issessiondeleted     
 
        fslogic restorefeedbacksessionfromrecyclebin feedbacksessionname  courseid   
        feedbacksession setdeletedtime verifypresentindatabase feedbacksession   
        assertfalse feedbacksession issessiondeleted     
      
 
  src test teammates logic core FeedbackSessionsLogicTest