This code defines an abstract class `AbstractQueryTransformer` that transforms Lucene query nodes into a library-specific query string. It handles various query node types (Boolean, Field, Group, Modifier) and field-specific terms (author, title, journal, year, etc.), converting them using logical operators (AND, OR, NOT). The class provides abstract methods for field-specific handling and includes utilities for year range parsing and key-value pair creation. The main method `transformLuceneQuery` processes the query and returns an optional formatted string.