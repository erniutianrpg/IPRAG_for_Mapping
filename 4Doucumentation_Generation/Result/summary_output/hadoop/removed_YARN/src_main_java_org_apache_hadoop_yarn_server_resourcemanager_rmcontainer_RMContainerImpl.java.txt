This code implements a state machine for managing container lifecycles in Apache Hadoop YARN's ResourceManager. The `RMContainerImpl` class tracks container states (NEW, ALLOCATED, RUNNING, etc.) and handles transitions between states via events (START, KILL, FINISHED, etc.). It maintains container information, handles reservations, and notifies relevant components (like ApplicationAttempts and Nodes) about state changes. Thread-safe operations are ensured using read-write locks. The state machine defines valid transitions and associated actions for each state change.