This code defines an API action (`ArchiveCourseAction`) that toggles the archive status of a course. It requires the user to be logged in and verifies their access rights. The endpoint accepts a course ID and an archive status request, updates the course's archive status in the database, and returns the updated status. Errors are handled for invalid parameters or non-existent courses. The response includes the course ID and its new archive status.