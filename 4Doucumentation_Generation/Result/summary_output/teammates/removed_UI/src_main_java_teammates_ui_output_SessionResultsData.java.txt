This code defines a `SessionResultsData` class that formats feedback session results for API output. It provides two factory methods: `initForInstructor` (shows all responses with details) and `initForStudent` (shows only permitted responses with anonymized data when needed). The class structures the output into questions, responses, and comments, handling visibility rules, statistics, and anonymization based on user roles (instructor/student). It also includes nested classes (`QuestionOutput`, `ResponseOutput`, `CommentOutput`) to organize the output data hierarchically.