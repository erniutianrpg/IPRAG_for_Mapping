This code handles fetching and returning feedback session results in a web API. It checks user access permissions based on their role (instructor/student) and intent (e.g., viewing full details or results). Depending on the intent, it retrieves session results either for the entire course (for instructors) or specific to a user (for students/instructors previewing as students). The results can be filtered by question ID or section. It returns the data in a structured JSON format tailored for the requester's role and access level.