The `FileNameCleaner` class sanitizes file and directory names by replacing illegal characters with underscores (`_`). The `cleanFileName` method preserves legal characters except for path separators (`/` and `\`), while `cleanDirectoryName` allows path separators but replaces other illegal characters. Both methods trim whitespace from the result. This ensures compatibility with filesystem naming rules.