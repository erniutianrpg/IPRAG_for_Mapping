This code defines an API action (`ArchiveCourseAction`) that toggles the archive status of a course. It requires the user to be logged in and verifies their access rights. The action accepts a course ID and an archive status (true/false) in the request body, updates the course's archive status in the system, and returns the updated status. If errors occur (invalid parameters or non-existent entity), it returns appropriate error responses. The response includes the course ID and its new archive status.